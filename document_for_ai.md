https://github.com/Kotoomii/my-liff-appフォルダの中身を以下の通りに変更をお願いします。https://github.com/Kotoomii/my-liff-appフォルダは現在、活動データと生体情報を入力としてNASA-TLXのストレス値を出力する機械学習モデルとその結果を反実仮想説明により説明するようなモジュールで構成されています。この結果をスマートミラーに表示してユーザーにわかりやすく提示したいと思っています。そのためにブラウザ上で動作するユーザインタフェースとDiCEが使用できるプログラムが必要です。そのために必要な機能を実装してください。ただしこれはGCP上で動作するプログラムである必要があります。スプレッドシートのURLは次の通りです。https://docs.google.com/spreadsheets/d/15Mv9-N1RFKLmDd2vqYBLwKR-aPWA3Mgw9dAHHOWilLs/edit?gid=0#gid=0活動データと生体情報はグーグルスプレッドシート上から読み取る必要があります。
活動データはユーザによって変わる可能性がありますがサンプルでは”Ua06e990fd6d5f4646615595d4e8d337f”で、生体データは”kotoomi_Fitbit-data-kotomi”です。
活動データの種類は
[睡眠、食事、身の回りの用事、療養・静養、仕事、仕事の付き合い、授業・学内の活動、学校外の活動、炊事・掃除・洗濯、買い物、子どもの世話、家庭雑事、通勤、通学、社会参加、会話・交際、スポーツ、行楽・散策、趣味・娯楽・教養（インターネットを除く）、趣味・娯楽・教養のインターネット、インターネット動画、テレビ、録画番組・DVD、ラジオ、新聞、雑誌・漫画・本、音楽、休息、その他、不明]
があり、こちらはCatSubとして登録されています。活動データは、A列から順番に、Timestamp、CatMid(中分類)、CatSub(小分類)、Duration、NASA-M、NASA_P、NASA_T、NASA_O、NASA_E、NASA_F、nasa_statusというふうに並んでいます。
生体データは、Timestamp、SDNN、Lorenz_Area、Dara_pointというふうに並んでいます。特徴量としては、SDNN、Lorenz_AreaとCatSubです。ターゲットはNASA_Fです。複数ユーザーに対応できるようにしてください。
modelの作成は、同じ時間の活動データと生体データを結びつけてください。15分以上の活動については、ローレンツプロットの分散、最大値、最小値などの値（現在の仕様もそうっているはず）を使用してください。
フラストレーション値を予測し、予測した値に対して反実仮想機械学習を用います。DiCEというパッケージを使用して活動に対して行動改善を行なってください。内容はcounterfactual-ml-project内のsrc、webhooktest.pyを参考にして作成してください。DiCEで提案するのはCatSubで、生体情報や日付データは変更できないものとします。
生体情報と活動データをとってくるアプリケーションは作成しています。github内のnasa.html、activity.htmlは変更しないようにしてください。ブラウザ上で動作するユーザインタフェースの内容としては、1日の活動データを数直線のようなもので表現すること、また、その日のDiCEによる行動提案を活動データを数直線のようなもので表現すること、それを受けてchatgpt-apiを使用し今日のフィードバックと明日に向けての一言、改善提案のようなものを作成する。
ユーザーごとにモデルを作成してフラストレーション予測値をタブレットのアプリに表示させています。
